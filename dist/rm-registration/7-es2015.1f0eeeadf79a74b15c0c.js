(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{vfUp:function(t,e,n){"use strict";n.r(e),n.d(e,"CustomersModule",function(){return Q});var o=n("ofXK"),r=n("tyNb"),i=n("fXoL"),c=n("tk/3"),a=n("ej43");let s=(()=>{class t{constructor(t,e,n){this.router=t,this.http=e,this.auth=n,this.userName="",this.uploadPhoto=!0,this.uploadSignature=!0}ngOnInit(){let t=localStorage.getItem("details");t=JSON.parse(t),t&&t.Email&&(this.userName=t.Email)}getFirstStyles(){return{"margin-top":"20px","background-color":"rgb(38, 138, 213)",color:"white"}}signOut(){this.auth.signOut()}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(r.b),i.Pb(c.b),i.Pb(a.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["app-header"]],decls:26,vars:2,consts:[[1,"row","rm-header"],[1,"row",2,"width","101%"],[1,"col-md-2"],[1,"col-md-8","banner-container","rm-sm-hide"],[1,"row"],[1,"col-md-2","text-center"],[1,"banner-text","text-center"],[1,"col-md-10"],[2,"color","brown"],[1,"col-md-2","rm-langdd"],[1,"row","layout"],[1,"col-md-8"],["ngbDropdown","",1,"d-inline-block"],[2,"width","100%"],[1,"button2",3,"click"],[1,"fa","fa-sign-out"],[1,"cand-menu"],[1,"navbar","navbar-expand-md","pad0",3,"ngStyle"],[1,"collapse","navbar-collapse","justify-content-center"],[1,"navbar-nav"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Vb(1,"div",1),i.Qb(2,"div",2),i.Vb(3,"div",3),i.Vb(4,"div",4),i.Tb(5),i.Vb(6,"div",5),i.Qb(7,"div",6),i.Ub(),i.Vb(8,"div",7),i.Qb(9,"br"),i.Vb(10,"h1",8),i.Gc(11,"Client Management"),i.Ub(),i.Ub(),i.Sb(),i.Ub(),i.Ub(),i.Vb(12,"div",9),i.Vb(13,"div",10),i.Vb(14,"div",11),i.Vb(15,"div",12),i.Vb(16,"div",13),i.Gc(17),i.Qb(18,"br"),i.Vb(19,"button",14),i.fc("click",function(){return e.signOut()}),i.Vb(20,"i",15),i.Gc(21," Logout"),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Vb(22,"div",16),i.Vb(23,"nav",17),i.Vb(24,"div",18),i.Qb(25,"ul",19),i.Ub(),i.Ub(),i.Ub()),2&t&&(i.Cb(17),i.Ic("",e.userName," "),i.Cb(6),i.nc("ngStyle",e.getFirstStyles()))},directives:[o.n],styles:[".bg-lite[_ngcontent-%COMP%]{background-color:#f5f5f5}p[_ngcontent-%COMP%]{margin-bottom:2px;margin-top:2px}.text-green[_ngcontent-%COMP%]{color:#90ee90}.rm-header[_ngcontent-%COMP%]{background-color:#fff}.nav-item[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.nav-link[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.nav-link[_ngcontent-%COMP%], .nav-link[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#fff}.rm-langdd[_ngcontent-%COMP%]{margin-top:30px;float:right}.banner-text[_ngcontent-%COMP%]{width:100%;margin-top:15px}.banner-container[_ngcontent-%COMP%]{align-items:flex-start;justify-content:center}.rm-banner-img[_ngcontent-%COMP%]{height:130px;margin-top:20px}.logout_link[_ngcontent-%COMP%]{color:red;cursor:pointer}.left-nav[_ngcontent-%COMP%]{background-color:#29363d}.popover-body[_ngcontent-%COMP%]{background-color:#29363d!important;color:red!important;font-size:10px}.popover-header[_ngcontent-%COMP%]{color:blue;font-size:15px}.popover-content[_ngcontent-%COMP%]{color:red;font-size:10px}.menu-container[_ngcontent-%COMP%]{background-color:#29363d}.left-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding-left:10px}.menu-item[_ngcontent-%COMP%]{width:100%;padding:5px;color:#fff}.button-color[_ngcontent-%COMP%]{background-color:#001f3f;color:#fff}.button-register[_ngcontent-%COMP%]{background-color:#117a8b;color:#fff}@media(max-width:768px){.layout[_ngcontent-%COMP%]{margin-top:-26px}}@media(min-width:768px){.layout[_ngcontent-%COMP%]{margin-top:0}}@media screen and (max-width:992px) and (min-width:768px){.layout[_ngcontent-%COMP%]{margin-top:0}}.sidenav[_ngcontent-%COMP%]{height:100%;width:0;position:fixed;z-index:1;top:0;left:0;background-color:#111;overflow-x:hidden;transition:.5s;padding-top:60px}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:8px 8px 8px 32px;text-decoration:none;font-size:25px;color:#818181;display:block;transition:.3s}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f1f1f1}.sidenav[_ngcontent-%COMP%]   .closebtn[_ngcontent-%COMP%]{position:absolute;top:0;right:25px;font-size:36px;margin-left:50px}@media screen and (max-height:450px){.sidenav[_ngcontent-%COMP%]{padding-top:15px}.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px}}.rm-banner[_ngcontent-%COMP%]{margin-top:20px;margin-left:50px}.left-nav[_ngcontent-%COMP%]{list-style:none;width:100%;float:left;padding-left:0;padding-right:0}.left-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:10px}.menu-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin-left:10px}.menu-item[_ngcontent-%COMP%]{padding:10px;font-size:1.1rem;border-left:1px solid #e0ac69}.menu-item[_ngcontent-%COMP%]:hover{background-color:#e0ac69}.pl-20[_ngcontent-%COMP%]{padding-left:20px}.menu-item.active[_ngcontent-%COMP%]{background-color:#e0ac69}.pad0[_ngcontent-%COMP%]{padding:0}.button2[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:2px solid #008cba}.button2[_ngcontent-%COMP%]:hover{background-color:#008cba;color:#fff}"]}),t})();var b=n("n90K");function d(t,e){if(1&t){const t=i.Wb();i.Vb(0,"a",9),i.fc("click",function(){i.yc(t);const e=i.hc().index;return i.hc().ddToggle(e)}),i.Gc(1),i.Ub()}if(2&t){const t=i.hc().$implicit;i.Cb(1),i.Hc(t.linkText)}}const l=function(t){return[t]};function u(t,e){if(1&t){const t=i.Wb();i.Vb(0,"a",10),i.fc("click",function(){i.yc(t);const e=i.hc().index;return i.hc().ddToggle(e)}),i.Gc(1),i.Ub()}if(2&t){const t=i.hc().$implicit;i.nc("routerLink",i.rc(2,l,t.parentLink)),i.Cb(1),i.Hc(t.linkText)}}const m=function(t){return{"rotate-caret":t}};function g(t,e){if(1&t&&(i.Vb(0,"div",11),i.Gc(1," \u25bc "),i.Ub()),2&t){const t=i.hc().$implicit;i.nc("ngClass",i.rc(1,m,t.menu))}}function p(t,e){if(1&t&&(i.Vb(0,"ul"),i.Vb(1,"li"),i.Vb(2,"a",12),i.Gc(3),i.Ub(),i.Ub(),i.Ub()),2&t){const t=e.$implicit;i.Cb(2),i.nc("routerLink",i.rc(2,l,t.link)),i.Cb(1),i.Hc(t.childtext)}}const f=function(t){return{"show-menu":t}};function h(t,e){if(1&t&&(i.Vb(0,"div",3),i.Ec(1,d,2,1,"a",4),i.Ec(2,u,2,4,"a",5),i.Ec(3,g,2,3,"div",6),i.Vb(4,"div",7),i.Ec(5,p,4,4,"ul",8),i.Ub(),i.Ub()),2&t){const t=e.$implicit,n=e.index,o=i.hc();i.Cb(1),i.nc("ngIf",t.submenu.length),i.Cb(1),i.nc("ngIf",!t.submenu.length),i.Cb(1),i.nc("ngIf",t.submenu.length),i.Cb(1),i.nc("ngClass",i.rc(5,f,t.menu)),i.Cb(1),i.nc("ngForOf",o.result[n].submenu)}}let C=(()=>{class t{constructor(t,e){this._http=t,this.storageService=e,this.result=[],this.expandAll=!1;let n=this.storageService.get("details");n=JSON.parse(n),this.userType=n.role,"admin"==this.userType?this._http.get("assets/sidebar-admin.json").subscribe(t=>{this.result=t}):this._http.get("assets/sidebar.json").subscribe(t=>{this.result=t})}ddToggle(t){this.result[t].menu=!this.result[t].menu}toggleAll(){this.expandAll=!this.expandAll;for(var t=0;t<this.result.length;t++)this.result[t].menu=this.expandAll}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(c.b),i.Pb(b.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["app-sidebar"]],decls:3,vars:1,consts:[["id","dynamic-sidebar"],[1,"wrapper","element-shadow"],["class","group",4,"ngFor","ngForOf"],[1,"group"],["class","light-blue-bg",3,"click",4,"ngIf"],["class","light-blue-bg",3,"routerLink","click",4,"ngIf"],["class","caret",3,"ngClass",4,"ngIf"],[1,"sub-menu",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"light-blue-bg",3,"click"],[1,"light-blue-bg",3,"routerLink","click"],[1,"caret",3,"ngClass"],[3,"routerLink"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Vb(1,"div",1),i.Ec(2,h,6,7,"div",2),i.Ub(),i.Ub()),2&t&&(i.Cb(2),i.nc("ngForOf",e.result))},directives:[o.l,o.m,o.k,r.c],styles:["#dynamic-sidebar[_ngcontent-%COMP%]{font:normal 13px sans-serif;box-sizing:border-box;position:relative;margin:40px auto 0}#dynamic-sidebar[_ngcontent-%COMP%]   .expand-all[_ngcontent-%COMP%]{font-size:12px;text-align:right;display:block;margin-bottom:5px;margin-right:15px;cursor:pointer;color:#fff}#dynamic-sidebar[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{border-radius:6px}#dynamic-sidebar[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{border-top-left-radius:6px;border-top-right-radius:6px}#dynamic-sidebar[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:6px;border-bottom-right-radius:6px}#dynamic-sidebar[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{border-bottom:1px solid #313b3f;overflow:hidden;position:relative}#dynamic-sidebar[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff;padding:7px 0 6px 20px;display:block;cursor:pointer;background-color:#03658c}#dynamic-sidebar[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .caret[_ngcontent-%COMP%]{position:absolute;transition:transform .2s ease-out;top:15px;right:10px;color:#fff;font-size:15px;transform:translateY(-50%) rotate(-90deg)}#dynamic-sidebar[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .sub-menu[_ngcontent-%COMP%]{transition:max-height .2s;max-height:0}#dynamic-sidebar[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .sub-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0}#dynamic-sidebar[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .sub-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;background-color:#313b3f;font:normal 10pt sans-serif;line-height:19px;letter-spacing:.1pt}#dynamic-sidebar[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .sub-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;padding:7px 0 6px 20px;text-decoration:none;cursor:pointer;display:block}#dynamic-sidebar[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .sub-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#03658c;color:#fff}.rotate-caret[_ngcontent-%COMP%]{transform:translateY(-50%) rotate(0deg)!important}.show-menu[_ngcontent-%COMP%]{max-height:1000px!important}@media screen and (max-width:768px){#dynamic-sidebar[_ngcontent-%COMP%]{margin-top:10px}}"]}),t})(),v=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["app-footer"]],decls:3,vars:0,consts:[["_ngcontent-xku-c52","",1,"row","rm-footer","space-margin",2,"background-color","rgb(38, 138, 213)","color","white","text-align","center","padding-top","20px","height","60px"],["_ngcontent-xku-c52","",1,"col-md-12"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Vb(1,"div",1),i.Gc(2," Made by : Jay "),i.Ub(),i.Ub())},styles:[""]}),t})(),x=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["app-full-layout"]],decls:10,vars:0,consts:[[1,"container-fluid"],[1,"row","bottom-container"],[1,"col-md-2"],[1,"col-md-10"],[1,"row","page-container"],[1,"col-md-12"]],template:function(t,e){1&t&&(i.Qb(0,"app-header"),i.Vb(1,"div",0),i.Vb(2,"div",1),i.Vb(3,"div",2),i.Qb(4,"app-sidebar"),i.Ub(),i.Vb(5,"div",3),i.Vb(6,"div",4),i.Vb(7,"div",5),i.Qb(8,"router-outlet"),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Qb(9,"app-footer"))},directives:[s,C,r.e,v],styles:[".app-container[_ngcontent-%COMP%]{background-color:#e4e5e6}.bottom-container[_ngcontent-%COMP%]{background-color:#29363d}.rm-sidebar[_ngcontent-%COMP%]{color:#fff;display:flex;flex-direction:column}.page-container[_ngcontent-%COMP%]{min-height:1310px;background-color:#e4e5e6;padding:20px}.def-bg[_ngcontent-%COMP%]{background:#ff0}"]}),t})();var O=n("E//v"),y=n("mrSG"),P=n("SxV6"),M=n("3Pt+"),_=n("3LUQ"),V=n("cygB");let U=(()=>{class t{constructor(t){this.backendService=t,this.path="/api/customer"}saveCustomer(t){return this.backendService.post(this.path+"/createcustomer",t)}updateCustomer(t){return this.backendService.post(this.path+"/updatecustomer",t)}deleteCustomer(t){return this.backendService.post(this.path+"/deletecustomer",{customerid:t})}getCustomerList(){return this.backendService.get(this.path+"/getcustomerlist")}getCustomer(t){return this.backendService.get(this.path+"/getcustomer/"+t)}}return t.\u0275fac=function(e){return new(e||t)(i.cc(V.a))},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function w(t,e){if(1&t&&(i.Vb(0,"option",27),i.Gc(1),i.Ub()),2&t){const t=e.$implicit;i.nc("value",t.id),i.Cb(1),i.Ic(" ",t.countyName," ")}}function k(t,e){if(1&t&&(i.Vb(0,"option",27),i.Gc(1),i.Ub()),2&t){const t=e.$implicit;i.nc("value",t.id),i.Cb(1),i.Ic(" ",t.sateName," ")}}function I(t,e){if(1&t&&(i.Vb(0,"option",27),i.Gc(1),i.Ub()),2&t){const t=e.$implicit;i.nc("value",t.id),i.Cb(1),i.Ic(" ",t.cityName," ")}}let N=(()=>{class t{constructor(t,e,n,o,r,i){this.alert=t,this.router=e,this.fb=n,this.auth=o,this.route=r,this.customersService=i,this.bsValue=new Date,this.customer=[],this.customerList=[],this.countryList=[{id:"India",countyName:"India"},{id:"USA",countyName:"USA"}],this.stateList=[{id:"Gujarat",countryId:"India",sateName:"Gujarat"},{id:"Maharastra",countryId:"India",sateName:"Maharastra"},{id:"Texas",countryId:"USA",sateName:"Texas"}],this.cityList=[{id:"Vadodara",countryId:"India",stateId:"Gujarat",cityName:"Vadodara"},{id:"Ahmedabad",countryId:"India",stateId:"Maharastra",cityName:"Mumbai"},{id:"New York",countryId:"USA",stateId:"Texas",cityName:"New York"}],this.route.params.subscribe(t=>Object(y.a)(this,void 0,void 0,function*(){this.customer_id=t.id})),this.customerForm=this.fb.group({customerName:["",M.o.required],email:["",[M.o.required,M.o.email]],mobileNumber:["",M.o.required],countryId:["",M.o.required],stateId:["",M.o.required],cityId:["",M.o.required]})}ngOnInit(){this.customer_id&&this.getcustomer(this.customer_id)}ngOnDestroy(){}onChangeCountry(t){const e=t.target.value;this.stateList=[{id:"Gujarat",countryId:"India",sateName:"Gujarat"},{id:"Maharastra",countryId:"India",sateName:"Maharastra"},{id:"Texas",countryId:"USA",sateName:"Texas"}],console.log(e),this.stateList=this.stateList.filter(t=>t.countryId==e),console.log(this.stateList)}onChangeState(t){this.cityList=[{id:"Vadodara",countryId:"India",stateId:"Gujarat",cityName:"Vadodara"},{id:"Ahmedabad",countryId:"India",stateId:"Maharastra",cityName:"Mumbai"},{id:"New York",countryId:"USA",stateId:"Texas",cityName:"New York"}];const e=t.target.value;console.log(e),this.cityList=this.cityList.filter(t=>t.countryId==this.customerForm.value.countryId&&t.stateId==e),console.log(this.cityList)}goBack(){this.router.navigate(["/customers"])}reset(){this.customerForm.reset(),this.customerForm=this.fb.group({customerName:["",M.o.required],email:["",[M.o.required,M.o.email]],mobileNumber:["",M.o.required],countryId:["",M.o.required],stateId:["",M.o.required],cityId:["",M.o.required]})}blurEvent(t){var e;null===(e=document.getElementById("submitButton"))||void 0===e||e.focus()}keyPressAlphanumeric(t){var e=String.fromCharCode(t.keyCode);return!!/[a-zA-Z0-9()',.-]+[\ ]?[a-zA-Z0-9()',.-\s]*/.test(e)||(t.preventDefault(),!1)}saveCustomer(){try{let{customerName:n,email:o,mobileNumber:r,countryId:i,stateId:c,cityId:a}=this.customerForm.value;if(this.customer_id){var t={_id:this.customer_id,customerName:n.trim(),email:o.trim(),mobileNumber:r,countryId:i,stateId:c,cityId:a};this.customersService.updateCustomer(t).pipe(Object(P.a)()).subscribe(t=>{t&&"error"==t.status?alert(t.message):(alert(t.message),this.reset(),this.router.navigate(["/customers/customer-list"]))})}else{var e={customerName:n.trim(),email:o.trim(),mobileNumber:r.trim(),countryId:i,stateId:c,cityId:a};this.customersService.saveCustomer(e).pipe(Object(P.a)()).subscribe(t=>{t&&"error"==t.status?alert(t.message):(alert(t.message),this.reset(),this.router.navigate(["/customers/customer-list"]))})}}catch(n){n&&401==n.status&&this.auth.signOut()}}parseResponse(t){return t.data[0].msg}parseError(t){var e,n,o;const r=null===(o=null===(n=null===(e=null==t?void 0:t.error)||void 0===e?void 0:e.data[0])||void 0===n?void 0:n.msg)||void 0===o?void 0:o.split("!:::");return r?r[1]?r[1]:r[0]:"Something went wrong!"}getcustomer(t){try{this.customersService.getCustomer(t).pipe(Object(P.a)()).subscribe(t=>{t&&"error"==t.status||(this.customer=t,this.customerForm.setValue({customerName:this.customer.customerName,email:this.customer.email,mobileNumber:this.customer.mobileNumber,countryId:this.customer.countryId,stateId:this.customer.stateId,cityId:this.customer.cityId}),console.log("customer",this.customer))})}catch(e){e&&401==e.status&&this.auth.signOut()}}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(_.a),i.Pb(r.b),i.Pb(M.b),i.Pb(a.a),i.Pb(r.a),i.Pb(U))},t.\u0275cmp=i.Jb({type:t,selectors:[["app-customer"]],decls:66,vars:5,consts:[[1,"container"],[1,"row","mt-2","box"],[1,"col-12","col-md-10","m-auto"],[1,"text-primary","my-5","mt-1",2,"text-align","center"],["novalidate","",1,"bg-lite","px-5",3,"formGroup"],[1,"col-12","mt-2"],[1,"row"],[1,"col-12","col-md-5","mb-auto","mt-auto"],["for","customerName",1,"required-field"],[1,"col-12","col-md-7"],["type","text","id","customerName","placeholder","","formControlName","customerName","maxlength","50","autofocus","",1,"form-control","error-text"],["for","email",1,"required-field"],["type","email","id","email","placeholder","","formControlName","email","maxlength","50","autofocus","",1,"form-control","error-text"],["for","mobileNumber",1,"required-field"],["type","phone","id","mobileNumber","placeholder","","formControlName","mobileNumber","maxlength","50","autofocus","",1,"form-control","error-text"],[1,"col-12","mt-3"],["for","countryId",1,"required-field"],["id","countryId","formControlName","countryId",1,"form-select","form-control","text-xl-start",2,"width","100%",3,"change"],["disabled","","value",""],[3,"value",4,"ngFor","ngForOf"],["for","stateId",1,"required-field"],["id","stateId","formControlName","stateId",1,"form-select","form-control","text-xl-start",2,"width","100%",3,"change"],["for","cityId",1,"required-field"],["id","cityId","formControlName","cityId",1,"form-select","form-control","text-xl-start",2,"width","100%"],[1,"col-12","mt-4","pb-3",2,"text-align","center"],["type","button","id","submitButton",1,"btn","btn-primary","btn-sm","mr-2",3,"disabled","click"],["type","button",1,"btn","btn-dark","btn-sm",3,"click"],[3,"value"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Vb(1,"div",1),i.Vb(2,"div",2),i.Vb(3,"h3",3),i.Vb(4,"span"),i.Gc(5," Customer Master"),i.Ub(),i.Ub(),i.Ub(),i.Vb(6,"div",2),i.Vb(7,"form",4),i.Vb(8,"div",5),i.Vb(9,"div",6),i.Vb(10,"div",7),i.Vb(11,"label",8),i.Gc(12,"Customer Name "),i.Ub(),i.Ub(),i.Vb(13,"div",9),i.Qb(14,"input",10),i.Ub(),i.Ub(),i.Ub(),i.Vb(15,"div",5),i.Vb(16,"div",6),i.Vb(17,"div",7),i.Vb(18,"label",11),i.Gc(19,"Email "),i.Ub(),i.Ub(),i.Vb(20,"div",9),i.Qb(21,"input",12),i.Ub(),i.Ub(),i.Ub(),i.Vb(22,"div",5),i.Vb(23,"div",6),i.Vb(24,"div",7),i.Vb(25,"label",13),i.Gc(26,"Mobile Number "),i.Ub(),i.Ub(),i.Vb(27,"div",9),i.Qb(28,"input",14),i.Ub(),i.Ub(),i.Ub(),i.Vb(29,"div",15),i.Vb(30,"div",6),i.Vb(31,"div",7),i.Vb(32,"label",16),i.Gc(33,"Country Name "),i.Ub(),i.Ub(),i.Vb(34,"div",9),i.Vb(35,"select",17),i.fc("change",function(t){return e.onChangeCountry(t)}),i.Vb(36,"option",18),i.Gc(37,"Select Country"),i.Ub(),i.Ec(38,w,2,2,"option",19),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Vb(39,"div",15),i.Vb(40,"div",6),i.Vb(41,"div",7),i.Vb(42,"label",20),i.Gc(43,"State Name "),i.Ub(),i.Ub(),i.Vb(44,"div",9),i.Vb(45,"select",21),i.fc("change",function(t){return e.onChangeState(t)}),i.Vb(46,"option",18),i.Gc(47,"Select State"),i.Ub(),i.Tb(48),i.Ec(49,k,2,2,"option",19),i.Sb(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Vb(50,"div",15),i.Vb(51,"div",6),i.Vb(52,"div",7),i.Vb(53,"label",22),i.Gc(54,"city Name "),i.Ub(),i.Ub(),i.Vb(55,"div",9),i.Vb(56,"select",23),i.Vb(57,"option",18),i.Gc(58,"Select City"),i.Ub(),i.Tb(59),i.Ec(60,I,2,2,"option",19),i.Sb(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Vb(61,"div",24),i.Vb(62,"button",25),i.fc("click",function(){return e.saveCustomer()}),i.Gc(63," Submit "),i.Ub(),i.Vb(64,"button",26),i.fc("click",function(){return e.reset()}),i.Gc(65," Reset "),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub()),2&t&&(i.Cb(7),i.nc("formGroup",e.customerForm),i.Cb(31),i.nc("ngForOf",e.countryList),i.Cb(11),i.nc("ngForOf",e.stateList),i.Cb(11),i.nc("ngForOf",e.cityList),i.Cb(2),i.nc("disabled",e.customerForm.invalid))},directives:[M.p,M.j,M.d,M.a,M.i,M.c,M.f,M.n,M.l,M.q,o.l],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #000}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-weight:700;font-Size:15px;text-align:center}th[_ngcontent-%COMP%]{background-color:#293a43;color:#f0f8ff}.box[_ngcontent-%COMP%]{border:1px solid #cc25a8}"]}),t})();var G=n("PSD3"),S=n.n(G),L=n("JcrP");function F(t,e){if(1&t&&(i.Vb(0,"option",11),i.Gc(1),i.Ub()),2&t){const t=e.$implicit;i.nc("ngValue",t.customerName),i.Cb(1),i.Ic(" ",t.customerName," ")}}function A(t,e){if(1&t){const t=i.Wb();i.Vb(0,"tr"),i.Vb(1,"td"),i.Gc(2),i.Ub(),i.Vb(3,"td"),i.Gc(4),i.Ub(),i.Vb(5,"td"),i.Gc(6),i.Ub(),i.Vb(7,"td"),i.Gc(8),i.Ub(),i.Vb(9,"td"),i.Gc(10),i.Ub(),i.Vb(11,"td"),i.Gc(12),i.Ub(),i.Vb(13,"td"),i.Gc(14),i.Ub(),i.Vb(15,"td"),i.Vb(16,"span",19),i.fc("click",function(){i.yc(t);const n=e.$implicit;return i.hc().edit(n._id)}),i.Qb(17,"i",20),i.Vb(18,"span"),i.Gc(19,"Edit"),i.Ub(),i.Ub(),i.Vb(20,"span",21),i.fc("click",function(){i.yc(t);const n=e.$implicit;return i.hc().delete(n._id)}),i.Qb(21,"i",22),i.Vb(22,"span"),i.Gc(23,"Delete"),i.Ub(),i.Ub(),i.Ub(),i.Ub()}if(2&t){const t=e.$implicit,n=e.index;i.Cb(2),i.Hc(n+1),i.Cb(2),i.Hc(t.customerName),i.Cb(2),i.Hc(t.email),i.Cb(2),i.Hc(t.mobileNumber),i.Cb(2),i.Hc(t.countryId),i.Cb(2),i.Hc(t.stateId),i.Cb(2),i.Hc(t.cityId)}}let j=(()=>{class t{constructor(t,e,n,o,r){this.alert=t,this.customersService=e,this.router=n,this.storageService=o,this.auth=r,this.filter={customerName:null},this.report={},this.rows=[],this.rows2=[],this.fileName="Customers.xlsx",this.city=[],this.center=[],this.timing=[],this.customers=[];let i=this.storageService.get("details");i=JSON.parse(i),this.userType=i.role,this.getReport()}ngOnInit(){}ngOnDestroy(){}exportexcel(){let t=document.getElementById("excel-table");const e=L.a.table_to_sheet(t),n=L.a.book_new();L.a.book_append_sheet(n,e,"Sheet1"),L.b(n,this.fileName)}goBack(){this.router.navigate(["/customers"])}Add(){this.router.navigate(["/customers/customer"])}getProductList(){try{this.customersService.getCustomerList().pipe(Object(P.a)()).subscribe(t=>{if((!t||"error"!=t.status)&&(this.report=t||{},this.rows=this.report||[],this.rows2=this.rows,this.customers=this.rows.filter((t,e,n)=>e===n.findIndex(e=>e.place===t.place&&e.customerName===t.customerName)),this.rows2&&this.filter.customerName&&""!==this.filter.customerName)){var e=this.rows2.filter(t=>t.customerName==this.filter.customerName);this.rows=e||[]}})}catch(t){t&&401==t.status&&this.auth.signOut()}}edit(t){this.router.navigate(["/customers/customer",t])}delete(t){S.a.fire({title:"Confirm Details",text:"Please confirm, Are you sure to delete the same?",showCancelButton:!0,confirmButtonText:"Yes, I have confirmed"}).then(e=>{e.isConfirmed&&this.deleteProduct(t)})}deleteProduct(t){try{this.customersService.deleteCustomer(t).pipe(Object(P.a)()).subscribe(t=>{t&&"error"==t.status||this.getProductList(),alert(t.message)})}catch(e){e&&401==e.status&&this.auth.signOut()}}getReport(){this.getProductList()}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(_.a),i.Pb(U),i.Pb(r.b),i.Pb(b.a),i.Pb(a.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["app-customer-list"]],decls:44,vars:4,consts:[[1,"row",2,"text-align","right !important"],[1,"col-md-12"],[1,"text-primary","my-1","mt-1",2,"text-align","center"],[1,"col-md-6","text-right"],["type","button",1,"btn","btn-success",3,"click"],[1,"button2",3,"click"],[1,"fa","fa-add"],[1,"row","mt-4",2,"font-style","normal","font-size","70%"],[1,"col-md-2"],["for","filter.customerName",2,"font-weight","bold"],["name","filter.customerName",1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"row",2,"margin-top","20px"],[1,"card"],[1,"",2,"font-style","normal","font-size","40%"],[1,"table-container"],["id","excel-table",1,"table"],[4,"ngFor","ngForOf"],[1,"mr-4",3,"click"],[1,"fa","fa-edit","mr-1"],[3,"click"],[1,"fa","fa-remove","mr-1"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Vb(1,"div",1),i.Vb(2,"h3",2),i.Vb(3,"span"),i.Gc(4," Customer List "),i.Ub(),i.Vb(5,"span",3),i.Vb(6,"button",4),i.fc("click",function(){return e.exportexcel()}),i.Gc(7," Download "),i.Ub(),i.Ub(),i.Ub(),i.Vb(8,"button",5),i.fc("click",function(){return e.Add()}),i.Vb(9,"i",6),i.Gc(10,"Add customer"),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Vb(11,"div",7),i.Vb(12,"div",8),i.Vb(13,"label",9),i.Gc(14,"Customer"),i.Ub(),i.Vb(15,"select",10),i.fc("ngModelChange",function(t){return e.filter.customerName=t})("ngModelChange",function(){return e.getReport()}),i.Vb(16,"option",11),i.Gc(17,"All Customers"),i.Ub(),i.Ec(18,F,2,2,"option",12),i.Ub(),i.Ub(),i.Ub(),i.Vb(19,"div",13),i.Vb(20,"div",1),i.Vb(21,"div",14),i.Vb(22,"div",15),i.Vb(23,"div",16),i.Vb(24,"table",17),i.Vb(25,"thead"),i.Vb(26,"th"),i.Gc(27,"Sr.No"),i.Ub(),i.Vb(28,"th"),i.Gc(29,"Customer Name"),i.Ub(),i.Vb(30,"th"),i.Gc(31,"Email"),i.Ub(),i.Vb(32,"th"),i.Gc(33,"Mobile Number"),i.Ub(),i.Vb(34,"th"),i.Gc(35,"Country Name"),i.Ub(),i.Vb(36,"th"),i.Gc(37,"State Name"),i.Ub(),i.Vb(38,"th"),i.Gc(39,"City Name"),i.Ub(),i.Vb(40,"th"),i.Gc(41,"Action"),i.Ub(),i.Ub(),i.Vb(42,"tbody"),i.Ec(43,A,24,7,"tr",18),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub()),2&t&&(i.Cb(15),i.nc("ngModel",e.filter.customerName),i.Cb(1),i.nc("ngValue",null),i.Cb(2),i.nc("ngForOf",e.customers),i.Cb(25),i.nc("ngForOf",e.rows))},directives:[M.n,M.i,M.k,M.l,M.q,o.l],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #d6cbcb}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-weight:700;font-Size:15px;text-align:center}th[_ngcontent-%COMP%]{background-color:#293a43;color:#f0f8ff}.table-container[_ngcontent-%COMP%]{height:5em}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:2000%;width:100%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:table;table-layout:fixed}.button2[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:2px solid #008cba}.button2[_ngcontent-%COMP%]:hover{background-color:#008cba;color:#fff}"]}),t})();const q=[{path:"",data:{title:""},canActivate:[O.a],component:x,children:[{path:"",data:{title:"customer-list"},component:j},{path:"customer",data:{title:"customer add"},component:N},{path:"customer/:id",data:{title:"customer edit"},component:N},{path:"customer-list",data:{title:"Customer List"},component:j}]}];let E=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({imports:[[r.d.forChild(q)],r.d]}),t})();var z=n("hzby"),T=n("M0ag");let Q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({providers:[z.a],imports:[[o.c,E,M.e,M.m,z.c.forRoot(),T.a]]}),t})()}}]);